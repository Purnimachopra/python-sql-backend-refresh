ğŸ” Secure Auth API â€“ FastAPI

Production-grade authentication backend built with FastAPI, implementing JWT access tokens, secure refresh token rotation, logout revocation, Alembic migrations, and Dockerized deployment.

Designed to demonstrate real-world backend security patterns, not tutorial auth.

ğŸš€ Key Capabilities

ğŸ”‘ JWT-based authentication with short-lived access tokens

ğŸ”„ Server-side refresh token rotation (one-time use)

ğŸš« Refresh token revocation on logout

â± Token expiry & replay-attack protection

ğŸ—„ SQLAlchemy ORM + Alembic schema migrations

ğŸ§ª Security-focused Pytest test suite

ğŸ³ Dockerized (12-factor compliant config)

ğŸ§  Why this project

Most auth demos stop at â€œlogin worksâ€.

This project focuses on what breaks in production:

token reuse

logout invalidation

expiry edge cases

migration-safe schema evolution

environment-safe Docker configuration

ğŸ— High-Level Architecture
app/
â”œâ”€â”€ api/v1/auth.py        # Login / Refresh / Logout
â”œâ”€â”€ models/              # User, RefreshToken
â”œâ”€â”€ services/            # Token lifecycle logic
â”œâ”€â”€ core/                # Security, config
â”œâ”€â”€ db/                  # SQLAlchemy + sessions
â”œâ”€â”€ main.py
alembic/                 # Migrations
tests/                   # Auth & security tests
Dockerfile

ğŸ³ Run with Docker (recommended)
docker build -t secure-auth-api .
docker run -p 8000:8000 --env-file .env secure-auth-api


Swagger UI:

http://127.0.0.1:8000/docs


.env is injected at runtime â€” secrets are not baked into the image

ğŸ§ª Test Coverage
pytest


Includes tests for:

Login success & failure

Refresh token rotation

Logout revocation

Token expiry edge cases

Refresh token reuse attacks

âš™ï¸ Tech Stack

FastAPI

SQLAlchemy

Alembic

JWT (python-jose)

Passlib (bcrypt)

Pytest

Docker

Pydantic Settings

ğŸ” Security Highlights

Refresh tokens stored server-side

Old refresh tokens revoked immediately

JWT sub uses user ID

Expired / reused tokens rejected

Clean separation of auth logic

ğŸ“Œ Status

Stable, tested, and migration-safe.
Designed as a production-ready backend auth service.